洛谷 P3384
题意：
已知一棵包含n个节点的树(连通且无环)，每个节点上包含一个数值，需要支持以下操作。
第一行包含4个正整数n,m,r,p,分别表示树的节点个数，操作个数，节点序号和取模数(即所有的输出结果均对此取模)。
接下来包含n个非负整数，分别依次表示各个节点上初始的数值。
接下来n-1行每行包含两个整数x,y表示点x和y之间连有一条边(保证无环且连通)。
接下来m行每行包含若干个正整数，每行表示一个操作，格式如下：
操作1: 1 x y z    表示将树从x到y节点最短路径上所有节点的值都加上z。
操作2: 2 x y       表示求从树x到y节点最大路径上所有节点的值之和。
操作3: 3 x z       表示将以x为根节点的子树内所有节点值都加上z。
操作4: 4 x          表示求以x为根节点的子树内所有节点值之和。
1<=n<=1e5,1<=m<=1e5,1<=p<=2^31-1。